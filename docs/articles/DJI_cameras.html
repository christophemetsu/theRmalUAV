<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="theRmalUAV">
<title>DJI cameras • theRmalUAV</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DJI cameras">
<meta property="og:description" content="theRmalUAV">
<meta property="og:image" content="https://christophemetsu.github.io/theRmalUAV/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">theRmalUAV</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>DJI cameras</h1>
            
      
      
      <div class="d-none name"><code>DJI_cameras.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<p>In this article we will discuss the prerequisites to use the R
package for processing DJI thermal cameras.</p>
<div class="section level2">
<h2 id="setup-and-initialize">1. Setup and initialize<a class="anchor" aria-label="anchor" href="#setup-and-initialize"></a>
</h2>
<p>The thermal images from DJI cameras are stored in their own specific
way. For a start they are written as JPG files instead of tiff.
Furthermore, the DN values in these thermal images cannot be readily
converted to temperatures. This conversion is limited to the DJI
software. However, DJI released a Thermal SDK with Dynamic Link
Libraries which can be incorporated into your code to process DJI
thermal images. On big remark: these can only be accessed on a Windows
or Linux system… In this R package the Thermal SDK is built in as well.
To access the libraries, the package runs a python script in the
background. So, before we can process DJI data, you first need to <a href="https://www.python.org/downloads/" class="external-link">download and install a version
of Python</a> on your pc.</p>
<p>Once Python is installed, a virtual environment should be established
in order to work with python through R. The package is dependent on the
package <code>Reticulate</code> to link R with Python. You can hust run
the function <code><a href="../reference/dji_init.html">dji_init()</a></code> to initialize this virtual
environment.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">theRmalUAV</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dji_init.html">dji_init</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-a-thermaluav">2. Create a ThermalUAV<a class="anchor" aria-label="anchor" href="#create-a-thermaluav"></a>
</h2>
<p>If your have a DJI camera that is compatible with this package (check
through <code><a href="../reference/tuav_cameras.html">tuav_cameras()</a></code>), you have two options: - Follow the
image-based workflow - Process the data with the DJI IR Processing tool
(dirp)</p>
<p>In the first case I gladly refer to the vignette about the
image-based workflow. In this article we discuss the second option. The
DJI IR processing tool is built into the function
<code><a href="../reference/tuav_dji.html">tuav_dji()</a></code>. This function processes the data using the
provided libraries from DJI. The input variables are thus the same as in
their <a href="https://www.dji.com/be/downloads/softwares/dji-dtat" class="external-link">DJI
Thermal Analysis Tool software</a>. To keep the geotags and facilitate
the process, first a ThermalUAV object should be created before using
the <code><a href="../reference/tuav_dji.html">tuav_dji()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">thermal_uav_dji_M3T</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tuav_create.html">tuav_create</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"E:/Thermal_Project/Thermal_data_dji/DJI_20240806165425_0078_T.JPG"</span>,</span>
<span>                               <span class="co"># ThermalUAV objects can also consist of only 1 image if desired</span></span>
<span>                               camera <span class="op">=</span> <span class="st">"DJI_M3T"</span>,</span>
<span>                               meta_csv <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                               flight_height <span class="op">=</span> <span class="fl">75</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="process-with-dji-ir-processing-tool">3. Process with DJI IR Processing tool<a class="anchor" aria-label="anchor" href="#process-with-dji-ir-processing-tool"></a>
</h2>
<p>Once this ThermalUAV object is created, you can call the function
<code><a href="../reference/tuav_dji.html">tuav_dji()</a></code>. Please check carefully the range in which each
parameter should be provided.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dji_M3T</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tuav_dji.html">tuav_dji</a></span><span class="op">(</span><span class="va">thermal_uav_dji_M3T</span>,</span>
<span>                    obj_dist <span class="op">=</span> <span class="fl">25</span>,      <span class="co"># limited to [1-25] in meter</span></span>
<span>                    rel_hum <span class="op">=</span> <span class="fl">47.2</span>,     <span class="co"># should be between [20 - 100] in %</span></span>
<span>                    emissivity <span class="op">=</span> <span class="fl">0.985</span>,</span>
<span>                    refl_temp <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                    return <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                    export <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                    export_path <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p>When processed, you can plot your image:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="va">LST_dji_M3T</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">dji_M3T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">LST_dji_M3T</span>, main <span class="op">=</span> <span class="st">"LST"</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/mappal.html" class="external-link">map.pal</a></span><span class="op">(</span><span class="st">"magma"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="figures/DJI_LST.png" width="100%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Christophe Metsu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
