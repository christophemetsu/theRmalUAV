<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>DJI cameras • theRmalUAV</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DJI cameras">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">theRmalUAV</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>DJI cameras</h1>
            
      

      <div class="d-none name"><code>DJI_cameras.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<p>In this article we will discuss the workflow if you just want to use
the Thermal SDK functionallity of DJI.</p>
<div class="section level2">
<h2 id="some-background">1. Some background<a class="anchor" aria-label="anchor" href="#some-background"></a>
</h2>
<p>The thermal images from DJI cameras are stored in their own specific
way. For a start they are written as JPG files instead of tiff.
Furthermore, the DN values in these thermal images cannot be readily
converted to temperatures. This conversion is limited to the DJI
software. However, DJI released a Thermal SDK with Dynamic Link
Libraries which can be incorporated into your code to process DJI
thermal images. On big remark: these can only be accessed on a Windows
or Linux system… In this R package the Thermal SDK is built in as well.
To access the libraries, the package runs a c++ function
(<code><a href="../reference/get_temp_dirp_cpp.html">get_temp_dirp_cpp()</a></code>) in the background using
<code>Rcpp</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://christophemetsu.github.io/theRmalUAV/">theRmalUAV</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-a-thermaluav">2. Create a ThermalUAV<a class="anchor" aria-label="anchor" href="#create-a-thermaluav"></a>
</h2>
<p>If your have a DJI camera that is compatible with this package (check
through <code><a href="../reference/tuav_cameras.html">tuav_cameras()</a></code>), you have two options: - Follow the
image-based workflow - Process the data with the DJI IR Processing tool
(dirp)</p>
<p>In the first case I gladly refer to the article about the image-based
workflow. In this article we discuss the second option. The DJI IR
processing tool is built into the function <code><a href="../reference/tuav_dji.html">tuav_dji()</a></code>. This
function processes the data using the provided libraries from DJI. The
input variables are thus the same as in their <a href="https://www.dji.com/be/downloads/softwares/dji-dtat" class="external-link">DJI Thermal
Analysis Tool software</a>. To keep the geotags and facilitate the
process, first a ThermalUAV object should be created before using the
<code><a href="../reference/tuav_dji.html">tuav_dji()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">thermal_uav_dji_M3T</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tuav_create.html">tuav_create</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"E:/Thermal_Project/Thermal_data_dji/DJI_20240806165425_0078_T.JPG"</span>,</span>
<span>                               <span class="co"># ThermalUAV objects can also consist of only 1 image if desired</span></span>
<span>                               camera <span class="op">=</span> <span class="st">"DJI_M3T"</span>,</span>
<span>                               meta_csv <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                               flight_height <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="process-with-dji-ir-processing-tool">3. Process with DJI IR Processing tool<a class="anchor" aria-label="anchor" href="#process-with-dji-ir-processing-tool"></a>
</h2>
<p>Once this ThermalUAV object is created, you can call the function
<code><a href="../reference/tuav_dji.html">tuav_dji()</a></code>. Please check carefully the range in which each
parameter should be provided.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dji_M3T</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tuav_dji.html">tuav_dji</a></span><span class="op">(</span><span class="va">thermal_uav_dji_M3T</span>,</span>
<span>                    obj_dist <span class="op">=</span> <span class="fl">25</span>,      <span class="co"># limited to [1-25] in meter</span></span>
<span>                    rel_hum <span class="op">=</span> <span class="fl">47.2</span>,     <span class="co"># should be between [20 - 100] in %</span></span>
<span>                    emissivity <span class="op">=</span> <span class="fl">0.985</span>, <span class="co"># Should be between [0.1 - 1]</span></span>
<span>                    refl_temp <span class="op">=</span> <span class="fl">5</span>,      <span class="co"># Should be between [-40.0 to 500.0 deg C]</span></span>
<span>                    return <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                    export <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                    export_path <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p>When processed, you can plot your image:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="va">LST_dji_M3T</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">dji_M3T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">LST_dji_M3T</span>, main <span class="op">=</span> <span class="st">"LST"</span>, col <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/mappal.html" class="external-link">map.pal</a></span><span class="op">(</span><span class="st">"magma"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="figures/DJI_LST.png" width="100%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christophe Metsu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
